(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),_ImageList=require("./ImageList"),_ImageList2=_interopRequireDefault(_ImageList),_TileView=require("./TileView"),_TileView2=_interopRequireDefault(_TileView),_LightboxView=require("./LightboxView"),_LightboxView2=_interopRequireDefault(_LightboxView),_constants=require("./constants"),App=function(){function e(){_classCallCheck(this,e),this.getImages()}return _createClass(e,[{key:"getImages",value:function(){var e=this;fetch("https://api.unsplash.com/search/photos?query=cat&per_page=100&client_id="+_constants.APPLICATION_ID,{method:"get",headers:{"Content-type":"application/json"}}).then(function(e){return e.json()}).then(function(t){e.onImageDataReceived(t.results)})}},{key:"onImageDataReceived",value:function(e){this.imageList=new _ImageList2.default(e),this.tileView=new _TileView2.default(this.imageList),this.lightboxView=new _LightboxView2.default(this.imageList),this.render(),this.setupListeners()}},{key:"render",value:function(){this.tileView.render()}},{key:"setupListeners",value:function(){function e(t){t.keyCode===_constants.keys.TAB&&(document.body.classList.add("user-is-tabbing"),window.removeEventListener("keydown",e))}this.tileView.setupListeners(this),this.lightboxView.setupListeners(),window.addEventListener("keydown",e)}}]),e}();exports.default=App;

},{"./ImageList":3,"./LightboxView":4,"./TileView":5,"./constants":6}],2:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),Image=function(){function e(t){_classCallCheck(this,e),this.urls=t.urls,this.id=t.id,this.description=t.description||"Cat"}return _createClass(e,[{key:"setupListeners",value:function(e){document.querySelector("#image-"+this.id).addEventListener("click",e.lightboxView.open.bind(e.lightboxView,this))}},{key:"getHtml",value:function(){return'<li class="ImageListItem" id="image-'+this.id+'">\n      <a href="#"><img class="ImageListItem-image" src='+this.urls.small+' alt="'+this.description+'" height="200"></a>\n    </li>'}}]),e}();exports.default=Image;

},{}],3:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_Image=require("./Image"),_Image2=_interopRequireDefault(_Image),_LightboxView=require("./LightboxView"),_LightboxView2=_interopRequireDefault(_LightboxView),ImageList=function(){function e(t){_classCallCheck(this,e),this.collection=t.map(function(e){return new _Image2.default(e)}),this.lightbox=new _LightboxView2.default}return _createClass(e,[{key:"getImageIndex",value:function(e){return this.collection.indexOf(e)}},{key:"isFirst",value:function(e){return 0===this.getImageIndex(e)}},{key:"isLast",value:function(e){return this.getImageIndex(e)===this.collection.length-1}},{key:"getNext",value:function(e){return this.collection[this.getImageIndex(e)+1]}},{key:"getPrevious",value:function(e){return this.collection[this.getImageIndex(e)-1]}}]),e}();exports.default=ImageList;

},{"./Image":2,"./LightboxView":4}],4:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),_constants=require("./constants"),LightboxView=function(){function e(t){_classCallCheck(this,e),this.imageList=t,this.isOpen=!1,this.el=document.querySelector(".Lightbox"),this.imgEl=document.querySelector(".Lightbox_image"),this.descriptionEl=document.querySelector(".Lightbox_description"),this.previousButton=document.querySelector(".ArrowButton--previous"),this.nextButton=document.querySelector(".ArrowButton--next"),this.closeButton=document.querySelector(".CloseButton"),this.tabbable=[this.closeButton,this.previousButton,this.nextButton],this.currentImg=null}return _createClass(e,[{key:"open",value:function(e){this.isOpen=!0,this.el.classList.remove("hidden"),document.querySelector("body").classList.add("frozen"),document.querySelector(".ImageListContainer").setAttribute("aria-hidden",!0),document.querySelector(".Title").setAttribute("aria-hidden",!0),this.focusedBeforeOpen=document.activeElement,this.tabbable[0].focus(),this.renderImage(e)}},{key:"close",value:function(){this.isOpen=!1,this.el.classList.add("hidden"),document.querySelector("body").classList.remove("frozen"),document.querySelector(".ImageListContainer").removeAttribute("aria-hidden"),document.querySelector(".Title").removeAttribute("aria-hidden"),this.focusedBeforeOpen.focus(),this.imgEl.src="",this.descriptionEl.innerHTML=""}},{key:"disablePrevious",value:function(){this.previousButton.classList.add("disabled"),this.previousButton.setAttribute("disabled","disabled"),this.previousButton.setAttribute("tabindex","-1")}},{key:"disableNext",value:function(){this.nextButton.classList.add("disabled"),this.nextButton.setAttribute("disabled","disabled"),this.nextButton.setAttribute("tabindex","-1")}},{key:"enablePrevious",value:function(){this.previousButton.classList.remove("disabled"),this.previousButton.removeAttribute("disabled"),this.previousButton.removeAttribute("tabindex")}},{key:"enableNext",value:function(){this.nextButton.classList.remove("disabled"),this.nextButton.removeAttribute("disabled"),this.nextButton.removeAttribute("tabindex")}},{key:"checkControls",value:function(){this.imageList.isLast(this.currentImg)?this.disableNext():this.enableNext(),this.imageList.isFirst(this.currentImg)?this.disablePrevious():this.enablePrevious()}},{key:"renderImage",value:function(e){this.currentImg=e,this.imgEl.src=e.urls.regular,this.imgEl.alt=e.description,this.descriptionEl.innerHTML=e.description,this.checkControls()}},{key:"showNext",value:function(){this.imageList.isLast(this.currentImg)||this.renderImage(this.imageList.getNext(this.currentImg))}},{key:"showPrevious",value:function(){this.imageList.isFirst(this.currentImg)||this.renderImage(this.imageList.getPrevious(this.currentImg))}},{key:"onForwardTab",value:function(e){document.activeElement===this.tabbable[this.tabbable.length-1]&&(e.preventDefault(),this.tabbable[0].focus())}},{key:"onBackwardTab",value:function(e){document.activeElement===this.tabbable[0]&&(e.preventDefault(),this.tabbable[this.tabbable.length-1].focus())}},{key:"setupListeners",value:function(){var e=this;this.closeButton.addEventListener("click",this.close.bind(this)),this.nextButton.addEventListener("click",this.showNext.bind(this)),this.previousButton.addEventListener("click",this.showPrevious.bind(this)),document.addEventListener("keydown",function(t){e.isOpen&&(t.keyCode===_constants.keys.ESC&&e.close(),t.keyCode===_constants.keys.LEFT&&e.showPrevious(),t.keyCode===_constants.keys.RIGHT&&e.showNext(),t.keyCode===_constants.keys.TAB&&(t.shiftKey?e.onBackwardTab(t):e.onForwardTab(t)))})}}]),e}();exports.default=LightboxView;

},{"./constants":6}],5:[function(require,module,exports){
"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),TileView=function(){function e(t){_classCallCheck(this,e),this.imageList=t}return _createClass(e,[{key:"setupListeners",value:function(e){this.imageList.collection.forEach(function(t){return t.setupListeners(e)})}},{key:"render",value:function(){var e=this.imageList.collection.map(function(e){return e.getHtml()}).join("");document.querySelector(".ImageListContainer").innerHTML='<ul class="ImageList">'+e+"</ul>"}}]),e}();exports.default=TileView;

},{}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var ESC=27,LEFT=37,RIGHT=39,TAB=9,keys=exports.keys={ESC:ESC,LEFT:LEFT,RIGHT:RIGHT,TAB:TAB},APPLICATION_ID=exports.APPLICATION_ID="2920cd7275cae9bc5dc24afd9cda3df30beff2bff732fba82ce8d87f2365d98d";

},{}],7:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _App=require("./App"),_App2=_interopRequireDefault(_App),app=new _App2.default;

},{"./App":1}]},{},[7]);
